
![[图片：2.2IP头部结构.png]]
```bash
# 抓取本地回路上的数据包
sudo tcpdump -ntx -i lo 

# 开启另一个终端执行telnet命令登录本机
telnet 127.0.0.1
```

**IP头部结构示例**
```
0x0000:  4510 0034 8e03 4000 4006 aeae 7f00 0001
0x0010:  7f00 0001
```
- `45`: IP 协议版本 4，头部长度 5 个 32 位字。
- `10`: 服务类型字段 **TOS**。
- `0034`: 总长度 52 字节 (20 字节 IP 头部 + 20 字节 TCP 头部 + 12 字节 TCP 选项)。
- `8e03`: 标识符。
- `4000`: 标志和片偏移，3位标志，第一位保留，第二位 **DF** 是否禁止分片，第三位 **MF** 后面是否有分片。
- `40`: TTL (Time To Live) 为 64。
- `06`: 上层协议是 TCP。
- `aeae`: IP 头部校验和。
- `7f00 0001`: 源 IP 地址 `127.0.0.1`。
- `7f00 0001`: 目标 IP 地址 `127.0.0.1`。

`一个16进制数需要4位，所以两个16进制数就是1字节`
`IPv4地址32位，8个16进制数，每两个数间加一个点，两个16进制数最大为255`
